import{d as C,a as $,x as I,y as G,g as m,h as t,t as f,i as T,z as u,A as k,B as b,F as D,m as h,k as v,D as j,v as n,E as S,f as U,j as w,q as B,C as M,o as P}from"./index-D3YScLgM.js";import{_ as z}from"./TaskCard.vue_vue_type_script_setup_true_lang-DhkOmjRl.js";import{P as E}from"./plus-B_yS2I5i.js";import"./clock-KQDScBOl.js";import"./index-CNSRsbbU.js";const q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},A={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H=["value"],R={key:0},J={class:"flex justify-end gap-3 pt-4"},K={type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},Q=C({__name:"TaskForm",props:{editingTask:{}},emits:["submit","cancel"],setup(V,{emit:y}){const p=V,g=y,s=$(),o=I({title:"",description:"",dueDate:"",type:"routine",priority:"medium",effort:"medium",groupId:void 0,status:"todo",group:"",customGroup:""});G(()=>p.editingTask,i=>{i?Object.assign(o,{title:i.title,description:i.description,dueDate:i.dueDate,type:i.type,priority:i.priority,effort:i.effort,groupId:i.groupId||void 0,status:i.status}):Object.assign(o,{title:"",description:"",dueDate:"",type:"routine",priority:"medium",effort:"medium",groupId:void 0,status:"todo"})},{immediate:!0});const x=()=>{const i={title:o.title,description:o.description,dueDate:o.dueDate,type:o.type,priority:o.priority,effort:o.effort,groupId:o.groupId,status:o.status};g("submit",i),p.editingTask||Object.assign(o,{title:"",description:"",dueDate:"",type:"routine",priority:"medium",effort:"medium",groupId:void 0,status:"todo"})},c=()=>{g("cancel")};return(i,e)=>(n(),m("div",q,[t("h3",A,f(i.editingTask?"Editar Tarefa":"Nova Tarefa"),1),t("form",{onSubmit:j(x,["prevent"]),class:"space-y-4"},[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Título * ",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.title=a),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite o título da tarefa"},null,512),[[k,o.title]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Descrição ",-1)),u(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.description=a),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite uma descrição (opcional)"},null,512),[[k,o.description]])]),t("div",O,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Data e Hora * ",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>o.dueDate=a),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite a data e hora"},null,512),[[k,o.dueDate]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Prioridade ",-1)),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>o.priority=a),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},e[11]||(e[11]=[t("option",{value:"low"},"Baixa",-1),t("option",{value:"medium"},"Média",-1),t("option",{value:"high"},"Alta",-1)]),512),[[b,o.priority]])])]),t("div",L,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Tipo ",-1)),u(t("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.type=a),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},e[13]||(e[13]=[t("option",{value:"routine"},"Rotineira",-1),t("option",{value:"pending"},"Pendência",-1)]),512),[[b,o.type]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Esforço Necessário ",-1)),u(t("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.effort=a),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},e[15]||(e[15]=[t("option",{value:"low"},"Pouco",-1),t("option",{value:"medium"},"Médio",-1),t("option",{value:"high"},"Muito",-1)]),512),[[b,o.effort]])])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Grupo * ",-1)),u(t("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>o.groupId=a),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},[e[17]||(e[17]=t("option",{value:void 0},"Sem Grupo",-1)),(n(!0),m(D,null,h(v(s).taskGroups,a=>(n(),m("option",{key:a.id,value:a.id},f(a.name),9,H))),128))],512),[[b,o.groupId]])]),o.group==="custom"?(n(),m("div",R,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nome do Grupo Personalizado ",-1)),u(t("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>o.customGroup=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white",placeholder:"Digite o nome do grupo"},null,512),[[k,o.customGroup]])])):T("",!0),t("div",J,[t("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"}," Cancelar "),t("button",K,f(i.editingTask?"Atualizar":"Criar Tarefa"),1)])],32)]))}}),W={class:"space-y-6"},X={class:"flex items-center justify-between"},Y={key:0,class:"animate-slide-up"},Z={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4"},_={class:"flex flex-wrap gap-4 items-center"},tt=["value"],et={class:"space-y-4"},rt={key:0,class:"text-center py-12"},ot={class:"text-gray-500 dark:text-gray-400"},ut=C({__name:"TasksView",setup(V){const y=$(),p=S(!1),g=S(null),s=I({status:"",priority:"",group:""}),o=U(()=>y.tasks),x=U(()=>{let d=o.value;return(!s.status||s.status!=="done")&&(d=d.filter(r=>r.status!=="done")),s.status&&(d=d.filter(r=>r.status===s.status)),s.priority&&(d=d.filter(r=>r.priority===s.priority)),s.group&&(d=d.filter(r=>r.groupId===s.group)),d.sort((r,l)=>new Date(r.dueDate).getTime()-new Date(l.dueDate).getTime())}),c=d=>{g.value?(y.updateTask(g.value.id,d),g.value=null):y.addTask(d),p.value=!1},i=()=>{p.value=!1,g.value=null},e=d=>{g.value=d,p.value=!0},a=(d,r)=>{y.updateTask(d,{status:r})},N=d=>{confirm("Tem certeza que deseja excluir esta tarefa?")&&y.deleteTask(d)},F=()=>{s.status="",s.priority="",s.group=""};return(d,r)=>(n(),m("div",W,[t("div",X,[r[5]||(r[5]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Tarefas",-1)),t("button",{onClick:r[0]||(r[0]=l=>p.value=!p.value),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[w(v(E),{class:"w-4 h-4 mr-2"}),r[4]||(r[4]=B(" Nova Tarefa "))])]),p.value?(n(),m("div",Y,[w(Q,{"editing-task":g.value,onSubmit:c,onCancel:i},null,8,["editing-task"])])):T("",!0),t("div",Z,[t("div",_,[t("div",null,[r[7]||(r[7]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Status ",-1)),u(t("select",{"onUpdate:modelValue":r[1]||(r[1]=l=>s.status=l),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},r[6]||(r[6]=[t("option",{value:""},"Todos",-1),t("option",{value:"todo"},"A Fazer",-1),t("option",{value:"doing"},"Fazendo",-1),t("option",{value:"done"},"Feito",-1)]),512),[[b,s.status]])]),t("div",null,[r[9]||(r[9]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Prioridade ",-1)),u(t("select",{"onUpdate:modelValue":r[2]||(r[2]=l=>s.priority=l),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},r[8]||(r[8]=[t("option",{value:""},"Todas",-1),t("option",{value:"high"},"Alta",-1),t("option",{value:"medium"},"Média",-1),t("option",{value:"low"},"Baixa",-1)]),512),[[b,s.priority]])]),t("div",null,[r[11]||(r[11]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Grupo ",-1)),u(t("select",{"onUpdate:modelValue":r[3]||(r[3]=l=>s.group=l),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:text-white"},[r[10]||(r[10]=t("option",{value:""},"Todos",-1)),(n(!0),m(D,null,h(v(y).taskGroups,l=>(n(),m("option",{key:l.id,value:l.id},f(l.name),9,tt))),128))],512),[[b,s.group]])]),r[12]||(r[12]=t("div",{class:"flex-1"},null,-1)),t("button",{onClick:F,class:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}," Limpar Filtros ")])]),t("div",et,[x.value.length===0?(n(),m("div",rt,[w(v(M),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t("p",ot,f(o.value.length===0?"Nenhuma tarefa criada ainda":"Nenhuma tarefa encontrada com os filtros aplicados"),1)])):T("",!0),(n(!0),m(D,null,h(x.value,l=>(n(),P(z,{key:l.id,task:l,onUpdateStatus:a,onDelete:N,onEdit:e},null,8,["task"]))),128))])]))}});export{ut as default};
