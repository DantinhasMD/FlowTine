import{c as p,d as w,a as C,E as h,f as g,H as T,g as o,h as t,j as d,k as i,C as M,t as a,F as y,m as x,p as S,L as A,_ as D,l as R,v as l}from"./index-D3YScLgM.js";import{C as L}from"./clock-KQDScBOl.js";import{T as P}from"./trending-up-Da_4TKYE.js";import{l as j}from"./index-CNSRsbbU.js";const B=p("ActivityIcon",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),b=p("CheckCircleIcon",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),H={class:"space-y-6"},V={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},z={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},E={class:"flex items-center"},I={class:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/20"},N={class:"ml-4"},q={class:"text-2xl font-bold text-gray-900 dark:text-white"},F={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},$={class:"flex items-center"},G={class:"p-3 rounded-full bg-green-100 dark:bg-green-900/20"},U={class:"ml-4"},J={class:"text-2xl font-bold text-gray-900 dark:text-white"},K={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},O={class:"flex items-center"},Q={class:"p-3 rounded-full bg-yellow-100 dark:bg-yellow-900/20"},W={class:"ml-4"},X={class:"text-2xl font-bold text-gray-900 dark:text-white"},Y={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},Z={class:"flex items-center"},tt={class:"p-3 rounded-full bg-purple-100 dark:bg-purple-900/20"},et={class:"ml-4"},st={class:"text-2xl font-bold text-gray-900 dark:text-white"},rt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},at={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},ot={class:"h-64 flex items-center justify-center"},dt={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},lt={class:"h-64 flex items-center justify-center"},it={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},nt={class:"space-y-4"},ct={class:"flex-1"},gt={class:"flex justify-between mb-1"},ut={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},mt={class:"text-sm text-gray-500 dark:text-gray-400"},ht={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},yt={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700"},xt={key:0,class:"text-center py-8"},bt={key:1,class:"space-y-3"},pt={class:"flex-1"},_t={class:"text-sm font-medium text-gray-900 dark:text-white"},kt={class:"text-xs text-gray-500 dark:text-gray-400"},Mt=w({__name:"StatisticsView",setup(ft){const u=C(),_=h(),k=h(),c=g(()=>u.monthlyStats),n=g(()=>u.tasks),f=g(()=>{const r=n.value.length,e={high:n.value.filter(s=>s.priority==="high").length,medium:n.value.filter(s=>s.priority==="medium").length,low:n.value.filter(s=>s.priority==="low").length};return[{key:"high",label:"Alta Prioridade",count:e.high,percentage:r?Math.round(e.high/r*100):0,colorClass:"bg-red-500"},{key:"medium",label:"Média Prioridade",count:e.medium,percentage:r?Math.round(e.medium/r*100):0,colorClass:"bg-yellow-500"},{key:"low",label:"Baixa Prioridade",count:e.low,percentage:r?Math.round(e.low/r*100):0,colorClass:"bg-green-500"}]}),m=g(()=>n.value.filter(r=>r.status==="done"&&r.completedAt).sort((r,e)=>new Date(e.completedAt).getTime()-new Date(r.completedAt).getTime()).slice(0,5)),v=r=>R(new Date(r),"dd/MM/yyyy 'às' HH:mm",{locale:j});return T(()=>{}),(r,e)=>(l(),o("div",H,[e[9]||(e[9]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Estatísticas",-1)),t("div",V,[t("div",z,[t("div",E,[t("div",I,[d(i(M),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",N,[e[0]||(e[0]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total do Mês",-1)),t("p",q,a(c.value.total),1)])])]),t("div",F,[t("div",$,[t("div",G,[d(i(b),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t("div",U,[e[1]||(e[1]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Concluídas",-1)),t("p",J,a(c.value.completed),1)])])]),t("div",K,[t("div",O,[t("div",Q,[d(i(L),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),t("div",W,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Pendentes",-1)),t("p",X,a(c.value.pending),1)])])]),t("div",Y,[t("div",Z,[t("div",tt,[d(i(P),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),t("div",et,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Taxa de Conclusão",-1)),t("p",st,a(c.value.completionRate)+"%",1)])])])]),t("div",rt,[t("div",at,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Status das Tarefas",-1)),t("div",ot,[t("canvas",{ref_key:"statusChartRef",ref:_},null,512)])]),t("div",dt,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Tarefas por Grupo",-1)),t("div",lt,[t("canvas",{ref_key:"groupChartRef",ref:k},null,512)])])]),t("div",it,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Distribuição por Prioridade",-1)),t("div",nt,[(l(!0),o(y,null,x(f.value,s=>(l(),o("div",{key:s.key,class:"flex items-center"},[t("div",ct,[t("div",gt,[t("span",ut,a(s.label),1),t("span",mt,a(s.count)+" ("+a(s.percentage)+"%) ",1)]),t("div",ht,[t("div",{class:A([s.colorClass,"h-2 rounded-full transition-all duration-300"]),style:S({width:`${s.percentage}%`})},null,6)])])]))),128))])]),t("div",yt,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Atividade Recente",-1)),m.value.length===0?(l(),o("div",xt,[d(i(B),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e[7]||(e[7]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Nenhuma tarefa concluída recentemente",-1))])):(l(),o("div",bt,[(l(!0),o(y,null,x(m.value,s=>(l(),o("div",{key:s.id,class:"flex items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg"},[d(i(b),{class:"w-5 h-5 text-green-600 dark:text-green-400 mr-3"}),t("div",pt,[t("p",_t,a(s.title),1),t("p",kt," Concluída em "+a(v(s.completedAt)),1)]),d(D,{priority:s.priority},null,8,["priority"])]))),128))]))])]))}});export{Mt as default};
