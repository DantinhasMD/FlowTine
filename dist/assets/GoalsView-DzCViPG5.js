import{d as z,e as L,E as y,x as q,f as _,H,g as d,h as e,j as K,z as u,B as c,K as R,F as Y,m as J,w as Q,I as W,l as v,s as C,L as x,t as l,i as f,q as P,k as w,D as V,A,v as i}from"./index-D3YScLgM.js";const X={class:"goals-view p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm"},Z={class:"flex justify-end mb-6"},tt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},et={key:0,class:"space-y-4"},rt={class:"flex items-center justify-between mb-2"},at={class:"flex items-center space-x-2"},ot={class:"text-gray-600 dark:text-gray-400 mb-2"},st={class:"text-sm text-gray-500 dark:text-gray-400"},dt={key:0},lt={class:"mt-4 flex justify-end space-x-2"},it=["onClick"],nt=["onClick"],ut=["onClick"],gt={key:1,class:"text-center py-8 text-gray-600 dark:text-gray-400"},pt={class:"bg-white dark:bg-gray-700 rounded-lg shadow-xl p-6 w-full max-w-md relative"},bt={class:"text-2xl font-bold text-gray-900 dark:text-white mb-4"},mt={key:0},yt={class:"flex justify-end gap-3 pt-4"},ct={type:"submit",class:"px-4 py-2 text-sm font-medium text-white bg-purple-600 border border-transparent rounded-md shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"},xt=z({__name:"GoalsView",setup(D){const n=L(),g=y(!1),s=y(null),p=y("all"),k=y("all"),M=y("targetDateAsc"),o=q({id:"",title:"",description:"",targetDate:"",status:"not_started",priority:"medium"}),T=_(()=>{let a=[...n.goals];return p.value!=="all"&&(a=a.filter(t=>t.status===p.value)),k.value!=="all"&&(a=a.filter(t=>t.priority===k.value)),a.sort((t,r)=>{switch(M.value){case"targetDateAsc":return new Date(t.targetDate).getTime()-new Date(r.targetDate).getTime();case"targetDateDesc":return new Date(r.targetDate).getTime()-new Date(t.targetDate).getTime();case"priorityDesc":const m={high:3,medium:2,low:1};return m[r.priority]-m[t.priority];case"createdAtDesc":return new Date(r.createdAt).getTime()-new Date(t.createdAt).getTime();default:return 0}})}),S=()=>{Object.assign(o,{id:"",title:"",description:"",targetDate:"",status:"not_started",priority:"medium"});const a=new Date,t=new Date(a.getFullYear(),a.getMonth()+1,a.getDate());o.targetDate=v(t,"yyyy-MM-dd")},h=(a=null)=>{a?(s.value=a,Object.assign(o,{id:a.id,title:a.title,description:a.description||"",targetDate:v(C(a.targetDate),"yyyy-MM-dd"),status:a.status,priority:a.priority})):(s.value=null,S()),g.value=!0},b=()=>{g.value=!1,s.value=null,S()},N=()=>{var t;if(!o.title||!o.targetDate){alert("T√≠tulo e Data Alvo s√£o obrigat√≥rios!");return}const a={title:o.title,description:o.description,targetDate:o.targetDate,priority:o.priority,status:o.status};(t=s.value)!=null&&t.id?(n.updateGoal(s.value.id,a),alert("Meta atualizada com sucesso!")):(a.status="not_started",n.addGoal(a),alert("Meta criada com sucesso!")),b()},G=a=>{confirm("Tem certeza que deseja excluir esta meta?")&&(n.deleteGoal(a),alert("Meta exclu√≠da!"),g.value&&b())},j=a=>{const t=a.status==="completed"?"not_started":"completed";n.updateGoal(a.id,{status:t})},O=a=>({not_started:"N√£o Iniciada",in_progress:"Em Progresso",completed:"Conclu√≠da",paused:"Pausada"})[a]||"",B=a=>({low:"Baixa",medium:"M√©dia",high:"Alta"})[a]||"",E=a=>({completed:"border-green-400 dark:border-green-600",in_progress:"border-blue-400 dark:border-blue-600",not_started:"border-yellow-400 dark:border-yellow-600",paused:"border-gray-400 dark:border-gray-600"})[a]||"border-gray-300 dark:border-gray-600",$=a=>a==="completed"?"text-green-700 dark:text-green-400 line-through":"text-gray-900 dark:text-white",F=a=>({high:"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100",medium:"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-100",low:"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",U=a=>({not_started:"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100",in_progress:"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",completed:"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",paused:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"})[a]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",I=a=>a==="completed"?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-green-500 text-white hover:bg-green-600";return H(()=>{n.loadGoals()}),(a,t)=>(i(),d("div",X,[t[31]||(t[31]=e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"},"Minhas Metas üéØ",-1)),e("div",Z,[e("button",{onClick:t[0]||(t[0]=r=>h()),class:"px-5 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors duration-200"}," + Nova Meta ")]),e("div",tt,[e("div",null,[t[15]||(t[15]=e("label",{for:"filterStatus",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Filtrar por Status",-1)),u(e("select",{id:"filterStatus","onUpdate:modelValue":t[1]||(t[1]=r=>p.value=r),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white"},t[14]||(t[14]=[R('<option value="all" data-v-893d2339>Todos</option><option value="not_started" data-v-893d2339>N√£o Iniciada</option><option value="in_progress" data-v-893d2339>Em Progresso</option><option value="completed" data-v-893d2339>Conclu√≠da</option><option value="paused" data-v-893d2339>Pausada</option>',5)]),512),[[c,p.value]])]),e("div",null,[t[17]||(t[17]=e("label",{for:"filterPriority",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Filtrar por Prioridade",-1)),u(e("select",{id:"filterPriority","onUpdate:modelValue":t[2]||(t[2]=r=>k.value=r),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white"},t[16]||(t[16]=[e("option",{value:"all"},"Todas",-1),e("option",{value:"low"},"Baixa",-1),e("option",{value:"medium"},"M√©dia",-1),e("option",{value:"high"},"Alta",-1)]),512),[[c,k.value]])]),e("div",null,[t[19]||(t[19]=e("label",{for:"sortOrder",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Ordenar por",-1)),u(e("select",{id:"sortOrder","onUpdate:modelValue":t[3]||(t[3]=r=>M.value=r),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white"},t[18]||(t[18]=[e("option",{value:"targetDateAsc"},"Data Alvo (Crescente)",-1),e("option",{value:"targetDateDesc"},"Data Alvo (Decrescente)",-1),e("option",{value:"priorityDesc"},"Prioridade (Maior para Menor)",-1),e("option",{value:"createdAtDesc"},"Mais Recente",-1)]),512),[[c,M.value]])])]),T.value.length>0?(i(),d("div",et,[(i(!0),d(Y,null,J(T.value,r=>(i(),d("div",{key:r.id,class:x(["goal-card p-4 rounded-lg shadow-sm border",E(r.status)])},[e("div",rt,[e("h3",{class:x(["text-lg font-semibold",$(r.status)])},l(r.title),3),e("div",at,[e("span",{class:x(["text-xs px-2 py-1 rounded-full",F(r.priority)])},l(B(r.priority)),3),e("span",{class:x(["text-xs px-2 py-1 rounded-full",U(r.status)])},l(O(r.status)),3)])]),e("p",ot,l(r.description),1),e("div",st,[e("p",null,[t[20]||(t[20]=e("strong",null,"Data Alvo:",-1)),P(" "+l(w(v)(w(C)(r.targetDate),"dd/MM/yyyy")),1)]),r.status==="completed"&&r.completedAt?(i(),d("p",dt,[t[21]||(t[21]=e("strong",null,"Conclu√≠da em:",-1)),P(" "+l(w(v)(w(C)(r.completedAt),"dd/MM/yyyy")),1)])):f("",!0)]),e("div",lt,[e("button",{onClick:m=>h(r),class:"px-3 py-1 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors"},"Editar",8,it),e("button",{onClick:m=>j(r),class:x(["px-3 py-1 text-sm rounded-md transition-colors",I(r.status)])},l(r.status==="completed"?"Marcar como N√£o Iniciada":"Marcar como Conclu√≠da"),11,nt),e("button",{onClick:m=>G(r.id),class:"px-3 py-1 text-sm bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors"},"Excluir",8,ut)])],2))),128))])):(i(),d("div",gt,[t[22]||(t[22]=e("p",{class:"text-lg"},"Nenhuma meta encontrada. Comece adicionando uma nova!",-1)),e("button",{onClick:t[4]||(t[4]=r=>h()),class:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors duration-200"}," Adicionar Primeira Meta ")])),K(W,{name:"fade"},{default:Q(()=>[g.value?(i(),d("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t[13]||(t[13]=V(r=>b(),["self"]))},[e("div",pt,[e("button",{onClick:t[5]||(t[5]=r=>b()),class:"absolute top-3 right-3 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200"},t[23]||(t[23]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e("h2",bt,l(s.value?"Editar Meta":"Nova Meta"),1),e("form",{onSubmit:V(N,["prevent"]),class:"space-y-4"},[e("div",null,[t[24]||(t[24]=e("label",{for:"goalTitle",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"T√≠tulo da Meta *",-1)),u(e("input",{type:"text",id:"goalTitle","onUpdate:modelValue":t[6]||(t[6]=r=>o.title=r),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-800 dark:text-white"},null,512),[[A,o.title]])]),e("div",null,[t[25]||(t[25]=e("label",{for:"goalDescription",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Descri√ß√£o",-1)),u(e("textarea",{id:"goalDescription","onUpdate:modelValue":t[7]||(t[7]=r=>o.description=r),rows:"3",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-800 dark:text-white"},null,512),[[A,o.description]])]),e("div",null,[t[26]||(t[26]=e("label",{for:"goalTargetDate",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Data Alvo *",-1)),u(e("input",{type:"date",id:"goalTargetDate","onUpdate:modelValue":t[8]||(t[8]=r=>o.targetDate=r),required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-800 dark:text-white"},null,512),[[A,o.targetDate]])]),e("div",null,[t[28]||(t[28]=e("label",{for:"goalPriority",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Prioridade",-1)),u(e("select",{id:"goalPriority","onUpdate:modelValue":t[9]||(t[9]=r=>o.priority=r),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-800 dark:text-white"},t[27]||(t[27]=[e("option",{value:"low"},"Baixa",-1),e("option",{value:"medium"},"M√©dia",-1),e("option",{value:"high"},"Alta",-1)]),512),[[c,o.priority]])]),s.value?(i(),d("div",mt,[t[30]||(t[30]=e("label",{for:"goalStatus",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),u(e("select",{id:"goalStatus","onUpdate:modelValue":t[10]||(t[10]=r=>o.status=r),class:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-800 dark:text-white"},t[29]||(t[29]=[e("option",{value:"not_started"},"N√£o Iniciada",-1),e("option",{value:"in_progress"},"Em Progresso",-1),e("option",{value:"completed"},"Conclu√≠da",-1),e("option",{value:"paused"},"Pausada",-1)]),512),[[c,o.status]])])):f("",!0),e("div",yt,[e("button",{type:"button",onClick:t[11]||(t[11]=r=>b()),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600"},"Cancelar"),e("button",ct,l(s.value?"Atualizar Meta":"Criar Meta"),1),s.value?(i(),d("button",{key:0,type:"button",onClick:t[12]||(t[12]=r=>G(s.value.id)),class:"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-red-300 rounded-md shadow-sm hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:border-red-600 dark:hover:bg-red-900/30"},"Excluir")):f("",!0)])],32)])])):f("",!0)]),_:1})]))}}),kt=(D,n)=>{const g=D.__vccOpts||D;for(const[s,p]of n)g[s]=p;return g},ft=kt(xt,[["__scopeId","data-v-893d2339"]]);export{ft as default};
